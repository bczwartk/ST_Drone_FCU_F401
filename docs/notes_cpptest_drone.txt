Cloning the project
-------------------
git clone https://github.com/STMicroelectronics-CentralLabs/ST_Drone_FCU_F401.git
or my fork:
git clone https://github.com/bczwartk/ST_Drone_FCU_F401.git


Building the project
--------------------
* IAR EWARM 9.30.1
  * Open workspace in EWARM IDE: 
    ST_Drone_FCU_F401_cpptest\STM32 FW Project\Official release with BLE Remocon - 170318\EWARM\Project.eww
  * Rebuild All
* iarbuild
    cd ...\ST_Drone_FCU_F401_cpptest\STM32 FW Project\Official release with BLE Remocon - 170318\EWARM
    iarbuild ToyDrone.ewp -clean "ToyDrone Configuration" -log all
    iarbuild ToyDrone.ewp -make  "ToyDrone Configuration" -log all


Prepare IAR EWARM project for C/C++test
---------------------------------------
* Create "cpptest" project configuration with full runtime library and simulator enabled
* Prepare make_bdf.bat script to be run from the root of the project
  For IAR EWARM 9.30.1 the resulting BDF is stored under ...\EWARM\cpptest\...
* Include paths in the BDF need to be fixed as the trailing backslashes 
  added by iarbuild confuse C/C++test unit testing.  See update_bdf.py script.
* Run scripts\make_bdf.bat from the root of cloned project to create the final BDF


Create C/C++test project and configuration
------------------------------------------ 
* Created project and selected proper compiler.
* Created test configuration based on the builtin one:
  * set project name and config, 
  * update flow to find .cspy.bat,
  * enabled reporting UT details,
  * enabled a few coverage metrics.
  

Run first unit tests
--------------------
* Create simple unit tests.
* Run unit tests, make sure results are correct.

